# XMLHttpRequest

μ„λ²„μ™€μ λΉ„λ™κΈ° ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•λ” μ—¬λ¬ κΈ°λ¥λ“¤μ„ κ°€μ§„ μλ°”μ¤ν¬λ¦½νΈ κ°μ²΄μ…λ‹λ‹¤.


# HTTP μƒνƒ μ½”λ“

## μ„±κ³µ μ‘λ‹µ

### 200

μ”μ²­μ΄ μ„±κ³µμ μΌλ΅ λμ—μµλ‹λ‹¤. μ„±κ³µμ μλ―Έλ” HTTP λ©”μ†λ“μ— λ”°λΌ λ‹¬λΌμ§‘λ‹λ‹¤: GET: λ¦¬μ†μ¤λ¥Ό λ¶λ¬μ™€μ„ λ©”μ‹μ§€ λ°”λ””μ— μ „μ†΅λμ—μµλ‹λ‹¤. HEAD: κ°μ²΄ ν•΄λ”κ°€ λ©”μ‹μ§€ λ°”λ””μ— μμµλ‹λ‹¤. PUT λλ” POST: μν–‰ κ²°κ³Όμ— λ€ν• λ¦¬μ†μ¤κ°€ λ©”μ‹μ§€ λ°”λ””μ— μ „μ†΅λμ—μµλ‹λ‹¤. TRACE: λ©”μ‹μ§€ λ°”λ””λ” μ„λ²„μ—μ„ μμ‹ ν• μ”μ²­ λ©”μ‹μ§€λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.

## ν΄λΌμ΄μ–ΈνΈ μ—λ¬ μ‘λ‹µ

### 400 Bad Request
μ΄ μ‘λ‹µμ€ μλ»λ λ¬Έλ²•μΌλ΅ μΈν•μ—¬ μ„λ²„κ°€ μ”μ²­μ„ μ΄ν•΄ν•  μ μ—†μμ„ μλ―Έν•©λ‹λ‹¤.

### 403 Forbidden
ν΄λΌμ΄μ–ΈνΈλ” μ½ν…μΈ μ— μ ‘κ·Όν•  κ¶λ¦¬λ¥Ό κ°€μ§€κ³  μμ§€ μ•μµλ‹λ‹¤. μλ¥Όλ“¤μ–΄ κ·Έλ“¤μ€ λ―ΈμΉμΈμ΄μ–΄μ„ μ„λ²„λ” κ±°μ μ„ μ„ν• μ μ ν• μ‘λ‹µμ„ λ³΄λƒ…λ‹λ‹¤. 401κ³Ό λ‹¤λ¥Έ μ μ€ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ λ„κµ¬μΈμ§€ μ•κ³  μμµλ‹λ‹¤.

### 404 Not Found
μ„λ²„λ” μ”μ²­λ°›μ€ λ¦¬μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤. λΈλΌμ°μ €μ—μ„λ” μ•λ ¤μ§€μ§€ μ•μ€ URLμ„ μλ―Έν•©λ‹λ‹¤. μ΄κ²ƒμ€ APIμ—μ„ μΆ…μ μ€ μ μ ν•μ§€λ§ λ¦¬μ†μ¤ μμ²΄λ” μ΅΄μ¬ν•μ§€ μ•μμ„ μλ―Έν•  μλ„ μμµλ‹λ‹¤. μ„λ²„λ“¤μ€ μΈμ¦λ°›μ§€ μ•μ€ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ¦¬μ†μ¤λ¥Ό μ¨κΈ°κΈ° μ„ν•μ—¬ μ΄ μ‘λ‹µμ„ 403 λ€μ‹ μ— μ „μ†΅ν•  μλ„ μμµλ‹λ‹¤. μ΄ μ‘λ‹µ μ½”λ“λ” μ›Ήμ—μ„ λ°λ³µμ μΌλ΅ λ°μƒν•κΈ° λ•λ¬Έμ— κ°€μ¥ μ λ…ν• μ§€λ„ λ¨λ¦…λ‹λ‹¤.


π§ **readyStateμ™€ status**

κ°λ°μλ“¤μ€ μΆ…μΆ… readyStateμ™€ statusλ¥Ό νΌλ™ν•©λ‹λ‹¤. κ°„λ‹¨ν• λΉ„μ λ΅ μ„¤λ…ν•΄λ³΄κ² μµλ‹λ‹¤.

λ°°κ°€ λ„λ¬΄ κ³ νμ„ 1μ‹κ°„ ν›„μ— μ§‘μ—μ„ μ €λ…μ„ λ¨ΉκΈ° μ„ν•΄ ν”Όμλ¥Ό μ£Όλ¬Έν•΄μ•Ό ν•©λ‹λ‹¤. κ·Έλμ„ λ°°λ‹¬μ•±μ„ κΊΌλ‚΄ ν”Όμλ¥Ό ν•ν μ£Όλ¬Έν•©λ‹λ‹¤.

μ΄λ• λ°°λ‹¬ν•λ” μ‚¬λμ΄ ν”Όμ λ°°λ‹¬μ„ μ™„λ£ν–λ”μ§€, μ•„λ‹λ©΄ λ°°λ‹¬ μ¤‘μΈμ§€ μ¶”μ ν•©λ‹λ‹¤. (readyState)

ν”Όμκ°€ μ§‘μ— λ„μ°©ν•κ³  ν”Όμκ°€ μ¬λ°”λ¥΄κ² λ§λ“¤μ–΄μ΅λ”μ§€ ν™•μΈν•©λ‹λ‹¤. ν”Όμκ°€ νƒ€μ§€ μ•μ•λ”μ§€, μ¬λ£λ¥Ό μλ» λ„£μ—λ”μ§€, λλ” μ£Όλ¬Έλ€λ΅ λ‚΄κ°€ μ›ν•λ” ν”Όμκ°€ λ§λ”μ§€ ν™•μΈν•©λ‹λ‹¤. (status)

κ²°λ΅ μ μΌλ΅, readyState === 4 (μ¦‰, ν”Όμκ°€ μ§‘μ— λ„μ°©ν–μ)μ΄κ³  status === 200 (μ¦‰, ν”Όμκ°€ μ¬λ°”λ¥΄κ² λ§λ“¤μ–΄μ΅μ)μΈ κ²½μ°μ—λ§ λ¨λ“  ν†µμ‹ μ΄ κ³„νλ€λ΅ μ μ§„ν–‰λμ—λ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤

(μ „λ‹¬ λ°›μ€ λ°μ΄ν„°κ°€ λ‚΄κ°€ μ›ν•λ”κ² μ•„λ‹ μ μκΈ° λ•λ¬Έμ— λ‘ κ°€μ§€ κ²½μ°( readyState, status) λ¨λ‘ ν™•μΈν•΄μ•Όν•λ‹¤.)





# callback μ§€μ¥

μ½λ°±ν•¨ μ : μΈμλ΅ νΈμ¶λ ν•¨μ


## μ°Έκ³  μ‚¬μ΄νΈ

https://yeoossi.tistory.com/55




fetchλ” μλ°”μ¤ν¬λ¦½νΈμ—μ„ μ›Ή APIμ™€ μƒνΈμ‘μ©ν•κΈ° μ„ν• μΈν„°νμ΄μ¤λ΅, HTTP μ”μ²­μ„ λ³΄λ‚΄κ±°λ‚ λ°›λ” λ° μ‚¬μ©λ©λ‹λ‹¤. fetchλ” ES6μ—μ„ λ„μ…λμ—κ³ , κΈ°μ΅΄μ XMLHttpRequestλ¥Ό λ€μ²΄ν•λ” ν„λ€μ μΈ λ°©λ²•μΌλ΅ λ„λ¦¬ μ‚¬μ©λκ³  μμµλ‹λ‹¤.

μ”μ¦ fetchμ μ‚¬μ©μ€ μ—¬μ „ν λ§¤μ° μΈκΈ°κ°€ μμµλ‹λ‹¤. κ·Έ μ΄μ λ”:

ν”„λΌλ―Έμ¤(promise) κΈ°λ°: fetchλ” ν”„λΌλ―Έμ¤λ¥Ό λ°ν™ν•λ―€λ΅ λΉ„λ™κΈ° λ΅μ§μ„ κ°„νΈν•κ² μ²λ¦¬ν•  μ μμµλ‹λ‹¤.
κµ¬λ¬Έμ΄ κ°„κ²°ν•λ‹¤: fetchλ” XMLHttpRequestμ— λΉ„ν•΄ μ½”λ“κ°€ λ” μ§§κ³  μ½κΈ° μ‰½μµλ‹λ‹¤.
ν”„λΌλ―Έμ¤ μ²΄μ΄λ‹: thenκ³Ό catchλ¥Ό μ‚¬μ©ν•μ—¬ λΉ„λ™κΈ° μ‘μ—…μ μ—°μ†μ μΈ νλ¦„μ„ κµ¬μ„±ν•  μ μμµλ‹λ‹¤.
Async/Awaitμ™€μ νΈν™: fetchμ™€ async/awaitλ” ν•¨κ» μ‚¬μ©λμ–΄ λΉ„λ™κΈ° μ½”λ“λ¥Ό λ™κΈ°μ‹μΌλ΅ λ³΄μ΄κ² μ‘μ„±ν•  μ μμµλ‹λ‹¤.
κ·Έλ¬λ‚, fetchλ” μ•„λμ™€ κ°™μ€ κ²½μ°μ— λ€ν• κΈ°λ³Έ μ§€μ›μ΄ λ¶€μ΅±ν•λ‹¤λ” λΉ„νλ„ μμµλ‹λ‹¤:

μ”μ²­ μ·¨μ†
νƒ€μ„μ•„μ›ƒ μ„¤μ •
ν”„λ΅κ·Έλ μ¤ λ¨λ‹ν„°λ§
μ΄λ¬ν• μ ν•μ‚¬ν•­ λ•λ¬Έμ— λ§μ€ κ°λ°μλ“¤μ΄ axiosμ™€ κ°™μ€ HTTP ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ„ νΈν•κΈ°λ„ ν•©λ‹λ‹¤. axiosλ” fetchμ— μ—†λ” λ‹¤μ–‘ν• κΈ°λ¥μ„ μ κ³µν•λ©°, ν”„λΌλ―Έμ¤ κΈ°λ°μΌλ΅ μ‘λ™ν•©λ‹λ‹¤.

κ²°λ΅ μ μΌλ΅, fetchλ” μ—¬μ „ν λ„λ¦¬ μ‚¬μ©λκ³  μμΌλ‚, ν”„λ΅μ νΈμ μ”κµ¬μ‚¬ν•­κ³Ό κ°μΈμ μ·¨ν–¥μ— λ”°λΌ axiosλ‚ λ‹¤λ¥Έ HTTP ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤.


fetchλ” μ„¤νƒ• λ¬Έλ²•



promise
λΉ„λ™κΈ°μ  μƒνƒμΈ μ½”λ“λ¥Ό μƒνƒλ¥Ό ν™•μΈν•κΈ° μ„ν•΄μ„
resolved, fulfilled, rejected μƒνƒκ°€ μλ‹¤.


resolvedλ” ν†µμ‹ μ΄ μ•μ •μ μΌλ΅ μ‹¤ν–‰ν–μ„ λ•

rejectλ” ν†µμ‹ μ„ μ‹¤ν¨ ν–μ„ λ•